%YAML:1.0

#common parameters
#support: 1 imu 1 cam; 1 imu 2 cam: 2 cam; 
imu: 0         
num_of_cam: 2  

imu_topic: "/imu/data_raw"
image0_topic: "/cam0"
image1_topic: "/cam1"
output_path: "/home/tony-ws1/output/"

cam0_calib: "own_cam0_pinhole.yaml"
cam1_calib: "own_cam1_pinhole.yaml"

#cam0_calib: "cam0_mei.yaml"
#cam1_calib: "cam1_mei.yaml"
image_width: 640
image_height: 480
   

# Extrinsic parameter between IMU and Camera.
estimate_extrinsic: 1   # 0  Have an accurate extrinsic parameters. We will trust the following imu^R_cam, imu^T_cam, don't change it.
                        # 1  Have an initial guess about extrinsic parameters. We will optimize around your initial guess.

body_T_cam0: !!opencv-matrix
   rows: 4
   cols: 4
   dt: d
   data:  [-0.01925375, -0.04807606, -0.99865809, -0.05360489,
           0.99981462, -0.0010411, -0.01922593, -0.09242243,
           -0.00011539, -0.99884314, 0.04808719, -0.03022717,
           0, 0, 0, 1]


body_T_cam1: !!opencv-matrix
   rows: 4
   cols: 4
   dt: d
   data: [0.01687772, -0.04386871, -0.99889473, -0.05367897,
          0.99983001, 0.0081572, 0.01653528, 0.10425386,
          0.0074228, -0.999004, 0.04399893, -0.02977766,
         0, 0, 0, 1 ]

   #[0.03474185, 0.08993691, 0.99534133, 0.02591552,
    #      -0.99930649, -0.010227, 0.03580435, -0.09418777,
     #     0.01339949, -0.99589495, 0.08951923, -0.02602162,
      #     0, 0, 0, 1 ]

          #[0.00267606, -0.99654233, 0.08304346, -0.02921256,
          #0.99878754, -0.0014185, -0.0492081, 0.08372675,
          #0.04915576, 0.08307446, 0.99533027, 0.04554309,
          #0, 0, 0, 1]

#Multiple thread support
multiple_thread: 1

#feature traker paprameters
max_cnt: 150            # max feature number in feature tracking
min_dist: 30            # min distance between two features 
freq: 10                # frequence (Hz) of publish tracking result. At least 10Hz for good estimation. If set 0, the frequence will be same as raw image 
F_threshold: 1.0        # ransac threshold (pixel)
show_track: 1           # publish tracking image as topic
flow_back: 1            # perform forward and backward optical flow to improve feature tracking accuracy

#optimization parameters
max_solver_time: 0.04  # max solver itration time (ms), to guarantee real time
max_num_iterations: 8   # max solver itrations, to guarantee real time
keyframe_parallax: 10.0 # keyframe selection threshold (pixel)
